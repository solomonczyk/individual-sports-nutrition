# Design Document: UX/UI, ĞœĞµÑ…Ğ°Ğ½Ğ¸ĞºĞ° Ğ¸ ĞĞ³Ñ€ĞµĞ³Ğ°Ñ†Ğ¸Ñ

## Overview

Ğ”Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ Ğ¾Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñƒ Ğ¸ Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½ Ğ´Ğ»Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ñ†ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ UX/UI Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ "Individual Sports Nutrition", Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸ĞºĞ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ñ… ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ² Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ Ğ°Ğ³Ñ€ĞµĞ³Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¾ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°Ñ… ÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ñ Ğ½Ğ° ÑĞµÑ€Ğ±ÑĞºĞ¾Ğ¼ Ñ€Ñ‹Ğ½ĞºĞµ.

**Ğ¦ĞµĞ»ÑŒ:** Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğµ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ:
- ĞŸĞ¾Ğ´Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ğµ Ñ ÑƒÑ‡Ñ‘Ñ‚Ğ¾Ğ¼ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ, Ñ†ĞµĞ»ĞµĞ¹ Ğ¸ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ğ¹
- ĞĞ³Ñ€ĞµĞ³Ğ¸Ñ€ÑƒĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°Ñ… Ğ¸Ğ· Ğ¿Ğ°Ñ€Ñ‚Ğ½Ñ‘Ñ€ÑĞºĞ¸Ñ… Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ¾Ğ² Ğ¡ĞµÑ€Ğ±Ğ¸Ğ¸
- ĞĞ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚ ÑƒĞ´Ğ¾Ğ±Ğ½Ñ‹Ğ¹ UX Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ Ñ€Ğ°Ğ·Ğ½Ğ¾Ğ³Ğ¾ ÑƒÑ€Ğ¾Ğ²Ğ½Ñ Ğ¿Ğ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ¸
- ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ 6 ÑĞ·Ñ‹ĞºĞ¾Ğ² (sr, hu, ro, en, ru, uk)

**Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ:**
- âœ… Backend API (Node.js + Express) â€” Ğ³Ğ¾Ñ‚Ğ¾Ğ²
- âœ… AI Service (Python + FastAPI) â€” Ğ³Ğ¾Ñ‚Ğ¾Ğ²  
- âœ… Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (PostgreSQL + Redis) â€” Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ°
- âœ… 269+ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ‚ĞµÑÑ‚Ğ¾Ğ²
- â³ Mobile App (React Native/Expo) â€” Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ ÑĞºÑ€Ğ°Ğ½Ğ¾Ğ²

---

## Architecture

### ĞĞ±Ñ‰Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

```mermaid
graph TB
    subgraph "Mobile App (React Native/Expo)"
        UI[UI Components]
        Screens[Screen Components]
        Store[Redux Store]
        Services[API Services]
        I18n[i18n Localization]
    end
    
    subgraph "Backend API (Node.js/Express)"
        Routes[API Routes]
        Controllers[Controllers]
        BServices[Business Services]
        Repos[Repositories]
    end
    
    subgraph "AI Service (Python/FastAPI)"
        ML[ML Models]
        Recommendations[Recommendation Engine]
        Contraindications[Contraindication Checker]
    end
    
    subgraph "Data Layer"
        PG[(PostgreSQL)]
        Redis[(Redis Cache)]
    end
    
    subgraph "External Services"
        Shops[Partner Shops API]
        Push[Push Notifications]
    end
    
    UI --> Screens
    Screens --> Store
    Screens --> Services
    Services --> Routes
    Routes --> Controllers
    Controllers --> BServices
    BServices --> Repos
    BServices --> ML
    Repos --> PG
    BServices --> Redis
    BServices --> Shops
    Controllers --> Push
```

### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

```
mobile-app/src/
â”œâ”€â”€ components/           # ĞŸĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”œâ”€â”€ ui/              # Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ UI ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹ (Button, Input, Card)
â”‚   â”œâ”€â”€ forms/           # Ğ¤Ğ¾Ñ€Ğ¼Ñ‹ (HealthProfileForm, LoginForm)
â”‚   â”œâ”€â”€ cards/           # ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ (ProductCard, RecommendationCard)
â”‚   â”œâ”€â”€ charts/          # Ğ“Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸ (ProgressChart, NutritionChart)
â”‚   â””â”€â”€ navigation/      # ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”œâ”€â”€ screens/             # Ğ­ĞºÑ€Ğ°Ğ½Ñ‹ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”‚   â”œâ”€â”€ onboarding/      # ĞĞ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³ ÑĞºÑ€Ğ°Ğ½Ñ‹
â”‚   â”œâ”€â”€ auth/            # ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ/Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ profile/         # ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ
â”‚   â”œâ”€â”€ recommendations/ # Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”œâ”€â”€ catalog/         # ĞšĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²
â”‚   â”œâ”€â”€ progress/        # Ğ¢Ñ€ĞµĞºĞ¸Ğ½Ğ³ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ°
â”‚   â””â”€â”€ settings/        # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
â”œâ”€â”€ navigation/          # React Navigation ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”œâ”€â”€ store/               # Redux store Ğ¸ slices
â”œâ”€â”€ services/            # API ÑĞµÑ€Ğ²Ğ¸ÑÑ‹
â”œâ”€â”€ hooks/               # Custom React hooks
â”œâ”€â”€ i18n/                # Ğ›Ğ¾ĞºĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
â”œâ”€â”€ types/               # TypeScript Ñ‚Ğ¸Ğ¿Ñ‹
â””â”€â”€ utils/               # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
```

---

## Components and Interfaces

### 1. UI Component Library

#### 1.1 Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ (ui/)

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Props |
|-----------|----------|-------|
| `Button` | ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ñ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ğ°Ğ¼Ğ¸ ÑÑ‚Ğ¸Ğ»ĞµĞ¹ | `variant: 'primary' \| 'secondary' \| 'outline'`, `size`, `loading`, `disabled` |
| `Input` | Ğ¢ĞµĞºÑÑ‚Ğ¾Ğ²Ğ¾Ğµ Ğ¿Ğ¾Ğ»Ğµ Ñ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸ĞµĞ¹ | `type`, `error`, `label`, `placeholder` |
| `Card` | ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ°-ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ | `variant`, `shadow`, `padding` |
| `Badge` | Ğ‘ĞµĞ¹Ğ´Ğ¶/Ğ¼ĞµÑ‚ĞºĞ° | `color`, `text` |
| `Avatar` | ĞĞ²Ğ°Ñ‚Ğ°Ñ€ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ | `size`, `source`, `fallback` |
| `ProgressBar` | Ğ˜Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ° | `value`, `max`, `color` |
| `Skeleton` | Ğ¡ĞºĞµĞ»ĞµÑ‚Ğ¾Ğ½ Ğ´Ğ»Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ | `width`, `height`, `variant` |
| `Modal` | ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ | `visible`, `onClose`, `title` |
| `Toast` | Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ | `type: 'success' \| 'error' \| 'warning'`, `message` |

#### 1.2 Ğ¤Ğ¾Ñ€Ğ¼Ñ‹ (forms/)

```typescript
// HealthProfileForm - Ğ¿Ğ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ğ°Ñ Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ
interface HealthProfileFormProps {
  initialData?: Partial<HealthProfile>;
  onComplete: (data: HealthProfile) => void;
  onStepChange?: (step: number) => void;
}

// Ğ¨Ğ°Ğ³Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ñ‹:
// Step 1: BasicInfoStep (Ğ¿Ğ¾Ğ», Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚, Ñ€Ğ¾ÑÑ‚, Ğ²ĞµÑ)
// Step 2: ActivityStep (ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸)
// Step 3: GoalsStep (Ñ†ĞµĞ»Ğ¸: Ğ¼Ğ°ÑÑĞ°, ÑÑƒÑˆĞºĞ°, Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ)
// Step 4: HealthStep (Ğ·Ğ°Ğ±Ğ¾Ğ»ĞµĞ²Ğ°Ğ½Ğ¸Ñ, Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ñ)
// Step 5: MedicationsStep (Ğ»ĞµĞºĞ°Ñ€ÑÑ‚Ğ²Ğ°)
```

#### 1.3 ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ (cards/)

```typescript
// ProductCard - ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ° Ğ² ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğµ
interface ProductCardProps {
  product: Product;
  isRecommended?: boolean;
  onPress: () => void;
  onAddToFavorites?: () => void;
}

// RecommendationCard - ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸
interface RecommendationCardProps {
  recommendation: Recommendation;
  onPress: () => void;
  onBuy?: () => void;
}

// StoreCard - ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ° Ñ Ñ†ĞµĞ½Ğ¾Ğ¹
interface StoreCardProps {
  store: Store;
  price: number;
  inStock: boolean;
  onBuy: () => void;
}
```

### 2. Screen Components

#### 2.1 ĞĞ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³ (screens/onboarding/)

```typescript
// OnboardingScreen - Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ½ Ğ¾Ğ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³Ğ°
// Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ 3-4 ÑĞ»Ğ°Ğ¹Ğ´Ğ° Ñ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼ Ñ†ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

interface OnboardingSlide {
  id: string;
  title: string;
  description: string;
  image: ImageSource;
}

const slides: OnboardingSlide[] = [
  { id: '1', title: 'onboarding.slide1.title', description: 'onboarding.slide1.desc', image: require('./assets/slide1.png') },
  { id: '2', title: 'onboarding.slide2.title', description: 'onboarding.slide2.desc', image: require('./assets/slide2.png') },
  { id: '3', title: 'onboarding.slide3.title', description: 'onboarding.slide3.desc', image: require('./assets/slide3.png') },
];

// LanguageSelectScreen - Ğ²Ñ‹Ğ±Ğ¾Ñ€ ÑĞ·Ñ‹ĞºĞ°
interface LanguageOption {
  code: 'sr' | 'hu' | 'ro' | 'en' | 'ru' | 'uk';
  name: string;
  nativeName: string;
  flag: string;
}
```

#### 2.2 ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ (screens/auth/)

```typescript
// LoginScreen
// - Email/Password Ñ„Ğ¾Ñ€Ğ¼Ğ°
// - ĞšĞ½Ğ¾Ğ¿ĞºĞ° "Ğ—Ğ°Ğ±Ñ‹Ğ» Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ"
// - Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ

// RegisterScreen  
// - Email, Password, Confirm Password
// - Ğ˜Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ½Ğ°Ğ´Ñ‘Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ
// - Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸

// ForgotPasswordScreen
// - Email Ğ´Ğ»Ñ ÑĞ±Ñ€Ğ¾ÑĞ° Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ
// - ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸
```

#### 2.3 ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ (screens/profile/)

```typescript
// HealthProfileSetupScreen - Ğ¿ĞµÑ€Ğ²Ğ¸Ñ‡Ğ½Ğ°Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°
// - Wizard Ñ 5 ÑˆĞ°Ğ³Ğ°Ğ¼Ğ¸
// - Progress indicator
// - Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞºĞ° Ğ½ĞµĞ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ğ¾Ğ»ĞµĞ¹

// HealthProfileEditScreen - Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ
// - Ğ’ÑĞµ Ğ¿Ğ¾Ğ»Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹ Ğ´Ğ»Ñ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
// - ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿ĞµÑ€ĞµÑÑ‡Ñ‘Ñ‚ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¹ Ğ¿Ñ€Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğ¸
```

#### 2.4 Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ (screens/recommendations/)

```typescript
// RecommendationsScreen - Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ½ Ñ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸ÑĞ¼Ğ¸
interface RecommendationsScreenState {
  recommendations: Recommendation[];
  loading: boolean;
  lastUpdated: Date;
}

// RecommendationDetailScreen - Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸
// - ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²ĞºĞµ
// - Ğ”Ğ¾Ğ·Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ¸ Ğ²Ñ€ĞµĞ¼Ñ Ğ¿Ñ€Ğ¸Ñ‘Ğ¼Ğ°
// - ĞĞ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ "Ğ¿Ğ¾Ñ‡ĞµĞ¼Ñƒ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ¾Ğ²Ğ°Ğ½Ğ¾"
// - ĞŸÑ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ñ
// - Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ¾Ğ² Ñ Ñ†ĞµĞ½Ğ°Ğ¼Ğ¸
```

#### 2.5 ĞšĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ (screens/catalog/)

```typescript
// CatalogScreen - ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²
interface CatalogFilters {
  type?: ProductType[];
  brand?: string[];
  priceRange?: { min: number; max: number };
  inStock?: boolean;
  recommended?: boolean;
}

// ProductDetailScreen - Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°
// - ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ ÑĞ¾ÑÑ‚Ğ°Ğ² Ğ¸ Ğ¼Ğ°ĞºÑ€Ğ¾ÑÑ‹
// - ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ
// - Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ¾Ğ² Ñ Ñ†ĞµĞ½Ğ°Ğ¼Ğ¸ (ÑĞ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ¿Ğ¾ Ñ†ĞµĞ½Ğµ)
// - ĞšĞ½Ğ¾Ğ¿ĞºĞ° "ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ" (deep link)
// - ĞšĞ½Ğ¾Ğ¿ĞºĞ° "Ğ’ Ğ¸Ğ·Ğ±Ñ€Ğ°Ğ½Ğ½Ğ¾Ğµ"

// SearchScreen - Ğ¿Ğ¾Ğ¸ÑĞº Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²
// - ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ, Ğ±Ñ€ĞµĞ½Ğ´Ñƒ, Ñ‚Ğ¸Ğ¿Ñƒ
// - Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ°
// - ĞŸĞ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ¸
```

#### 2.6 ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ (screens/progress/)

```typescript
// ProgressScreen - Ñ‚Ñ€ĞµĞºĞ¸Ğ½Ğ³ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ°
// - Ğ“Ñ€Ğ°Ñ„Ğ¸Ğº Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ²ĞµÑĞ°
// - Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹
// - Ğ¢Ñ€ĞµĞ½Ğ´ Ğ¸ Ğ¿Ñ€Ğ¾Ğ³Ğ½Ğ¾Ğ·

// AddProgressScreen - Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸
interface ProgressEntry {
  date: Date;
  weight: number;
  bodyFat?: number;
  notes?: string;
}
```

### 3. Navigation Structure

```typescript
// Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸
const Navigation = () => (
  <NavigationContainer>
    <Stack.Navigator>
      {/* ĞĞ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³ (Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¸ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¼ Ğ·Ğ°Ğ¿ÑƒÑĞºĞµ) */}
      <Stack.Screen name="Onboarding" component={OnboardingNavigator} />
      
      {/* ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ */}
      <Stack.Screen name="Auth" component={AuthNavigator} />
      
      {/* ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ */}
      <Stack.Screen name="Main" component={MainTabNavigator} />
    </Stack.Navigator>
  </NavigationContainer>
);

// MainTabNavigator - Ğ½Ğ¸Ğ¶Ğ½ÑÑ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ
const MainTabNavigator = () => (
  <Tab.Navigator>
    <Tab.Screen name="Home" component={RecommendationsScreen} />
    <Tab.Screen name="Catalog" component={CatalogNavigator} />
    <Tab.Screen name="Progress" component={ProgressNavigator} />
    <Tab.Screen name="Profile" component={ProfileNavigator} />
  </Tab.Navigator>
);
```

---

## Data Models

### 1. User & Authentication

```typescript
interface User {
  id: string;
  email: string;
  preferredLanguage: Language;
  createdAt: Date;
  updatedAt: Date;
  onboardingCompleted: boolean;
  healthProfileCompleted: boolean;
}

type Language = 'sr' | 'hu' | 'ro' | 'en' | 'ru' | 'uk';

interface AuthState {
  user: User | null;
  token: string | null;
  refreshToken: string | null;
  isAuthenticated: boolean;
  isLoading: boolean;
}
```

### 2. Health Profile

```typescript
interface HealthProfile {
  id: string;
  userId: string;
  
  // Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
  gender: 'male' | 'female' | 'other';
  age: number;
  height: number; // ÑĞ¼
  weight: number; // ĞºĞ³
  
  // ĞĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ
  activityLevel: ActivityLevel;
  
  // Ğ¦ĞµĞ»Ğ¸
  goal: FitnessGoal;
  
  // Ğ—Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ
  diseases: Disease[];
  allergies: string[];
  
  // Ğ›ĞµĞºĞ°Ñ€ÑÑ‚Ğ²Ğ°
  medications: Medication[];
  
  createdAt: Date;
  updatedAt: Date;
}

type ActivityLevel = 'sedentary' | 'light' | 'moderate' | 'high' | 'very_high';
type FitnessGoal = 'mass_gain' | 'fat_loss' | 'maintenance' | 'endurance';

interface Disease {
  id: string;
  nameKey: string; // ĞºĞ»ÑÑ‡ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°
  severity?: 'mild' | 'moderate' | 'severe';
}

interface Medication {
  id: string;
  name: string;
  dosage?: string;
  frequency?: string;
}
```

### 3. Products & Catalog

```typescript
interface Product {
  id: string;
  nameKey: string; // ĞºĞ»ÑÑ‡ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°
  brandId: string;
  brand: Brand;
  type: ProductType;
  
  // Ğ¡Ğ¾ÑÑ‚Ğ°Ğ²
  macros: Macros;
  ingredients: Ingredient[];
  
  // Ğ¦ĞµĞ½Ñ‹ Ğ² Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ°Ñ…
  storeProducts: StoreProduct[];
  
  // ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
  imageUrl?: string;
  rating?: number;
  reviewCount?: number;
  
  // Ğ¤Ğ»Ğ°Ğ³Ğ¸
  isRecommended?: boolean; // Ğ´Ğ»Ñ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ³Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
  hasContraindication?: boolean;
  
  createdAt: Date;
  updatedAt: Date;
}

type ProductType = 
  | 'protein' 
  | 'creatine' 
  | 'amino_acids' 
  | 'pre_workout' 
  | 'vitamins' 
  | 'minerals' 
  | 'fat_burner' 
  | 'mass_gainer'
  | 'other';

interface Macros {
  calories: number;
  protein: number;
  carbs: number;
  fats: number;
  fiber?: number;
}

interface Brand {
  id: string;
  name: string;
  originCountry: string;
  verified: boolean;
  logoUrl?: string;
}

interface StoreProduct {
  storeId: string;
  store: Store;
  price: number;
  currency: string;
  inStock: boolean;
  url: string; // deep link Ğ¸Ğ»Ğ¸ Ğ²ĞµĞ±-ÑÑÑ‹Ğ»ĞºĞ°
  lastUpdated: Date;
}

interface Store {
  id: string;
  name: string;
  logoUrl?: string;
  websiteUrl: string;
  isPartner: boolean;
}
```

### 4. Recommendations

```typescript
interface Recommendation {
  id: string;
  userId: string;
  productId: string;
  product: Product;
  
  // Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ñ
  dosage: string;
  timing: string; // "ÑƒÑ‚Ñ€Ğ¾Ğ¼", "Ğ´Ğ¾ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸", etc.
  reason: string; // Ğ¾Ğ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ "Ğ¿Ğ¾Ñ‡ĞµĞ¼Ñƒ"
  reasonKey: string; // ĞºĞ»ÑÑ‡ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°
  
  // ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚
  priority: 'essential' | 'recommended' | 'optional';
  
  // ĞŸÑ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ñ
  warnings?: Warning[];
  
  createdAt: Date;
}

interface Warning {
  type: 'contraindication' | 'interaction' | 'dosage';
  message: string;
  messageKey: string;
  severity: 'low' | 'medium' | 'high';
}
```

### 5. Progress Tracking

```typescript
interface ProgressEntry {
  id: string;
  userId: string;
  date: Date;
  
  // Ğ˜Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ
  weight: number;
  bodyFat?: number;
  
  // Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹
  measurements?: BodyMeasurements;
  
  // Ğ—Ğ°Ğ¼ĞµÑ‚ĞºĞ¸
  notes?: string;
  
  createdAt: Date;
}

interface BodyMeasurements {
  chest?: number;
  waist?: number;
  hips?: number;
  biceps?: number;
  thighs?: number;
}

interface ProgressAnalysis {
  trend: 'gaining' | 'losing' | 'maintaining';
  weeklyChange: number;
  projectedGoalDate?: Date;
  recommendations?: string[];
}
```

### 6. Notifications

```typescript
interface NotificationSettings {
  userId: string;
  
  // Ğ¢Ğ¸Ğ¿Ñ‹ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹
  supplementReminders: boolean;
  priceAlerts: boolean;
  newProducts: boolean;
  progressReminders: boolean;
  
  // Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ğ¹ Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²ĞºĞ°Ñ…
  supplementSchedule: SupplementReminder[];
}

interface SupplementReminder {
  productId: string;
  time: string; // "08:00"
  days: DayOfWeek[];
  enabled: boolean;
}

type DayOfWeek = 'mon' | 'tue' | 'wed' | 'thu' | 'fri' | 'sat' | 'sun';
```

---

## Error Handling

### 1. API Error Handling

```typescript
// Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸ API
interface ApiError {
  code: string;
  message: string;
  messageKey: string; // Ğ´Ğ»Ñ Ğ»Ğ¾ĞºĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
  details?: Record<string, any>;
}

// ĞšĞ¾Ğ´Ñ‹ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
enum ErrorCode {
  // ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
  INVALID_CREDENTIALS = 'AUTH_001',
  TOKEN_EXPIRED = 'AUTH_002',
  EMAIL_ALREADY_EXISTS = 'AUTH_003',
  
  // Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
  VALIDATION_ERROR = 'VAL_001',
  INVALID_EMAIL = 'VAL_002',
  WEAK_PASSWORD = 'VAL_003',
  
  // ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ
  PROFILE_NOT_FOUND = 'PROFILE_001',
  PROFILE_INCOMPLETE = 'PROFILE_002',
  
  // ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹
  PRODUCT_NOT_FOUND = 'PRODUCT_001',
  STORE_UNAVAILABLE = 'PRODUCT_002',
  
  // Ğ¡ĞµÑ‚ÑŒ
  NETWORK_ERROR = 'NET_001',
  TIMEOUT = 'NET_002',
  SERVER_ERROR = 'NET_003',
}
```

### 2. UI Error States

```typescript
// ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
interface ErrorStateProps {
  error: ApiError;
  onRetry?: () => void;
  showRetry?: boolean;
}

// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğ¹:
// - ĞĞµÑ‚ ÑĞµÑ‚Ğ¸ â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ¾Ñ„Ğ»Ğ°Ğ¹Ğ½-ÑĞºÑ€Ğ°Ğ½ Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ¾Ğ¹ "ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚ÑŒ"
// - ĞÑˆĞ¸Ğ±ĞºĞ° ÑĞµÑ€Ğ²ĞµÑ€Ğ° â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ¾Ğ¹ "ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚ÑŒ"
// - ĞÑˆĞ¸Ğ±ĞºĞ° Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ inline Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ Ñƒ Ğ¿Ğ¾Ğ»Ñ
// - ĞĞµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ¿ÑƒÑÑ‚Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ
```

### 3. Offline Support

```typescript
// Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ¾Ñ„Ğ»Ğ°Ğ¹Ğ½
interface OfflineStrategy {
  // ĞšÑÑˆĞ¸Ñ€ÑƒĞµĞ¼Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
  cachedData: {
    healthProfile: boolean;
    recommendations: boolean;
    favorites: boolean;
    progressHistory: boolean;
  };
  
  // ĞÑ‡ĞµÑ€ĞµĞ´ÑŒ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹ Ğ´Ğ»Ñ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
  pendingActions: PendingAction[];
}

interface PendingAction {
  id: string;
  type: 'add_progress' | 'update_profile' | 'add_favorite';
  payload: any;
  createdAt: Date;
}
```

---

## Testing Strategy

### 1. Unit Tests

```typescript
// Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
describe('ProductCard', () => {
  it('should render product name and price', () => {});
  it('should show recommended badge when isRecommended is true', () => {});
  it('should call onPress when card is tapped', () => {});
  it('should call onAddToFavorites when heart icon is tapped', () => {});
});

// Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ…ÑƒĞºĞ¾Ğ²
describe('useHealthProfile', () => {
  it('should fetch profile on mount', () => {});
  it('should update profile and trigger recommendations recalculation', () => {});
  it('should handle errors gracefully', () => {});
});

// Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
describe('RecommendationService', () => {
  it('should fetch recommendations for user', () => {});
  it('should filter out contraindicated products', () => {});
  it('should sort by priority', () => {});
});
```

### 2. Integration Tests

```typescript
// Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ user flows
describe('Health Profile Setup Flow', () => {
  it('should complete all 5 steps', () => {});
  it('should save profile and navigate to recommendations', () => {});
  it('should allow skipping optional fields', () => {});
});

describe('Product Purchase Flow', () => {
  it('should show stores sorted by price', () => {});
  it('should open store link when Buy is pressed', () => {});
  it('should add to favorites', () => {});
});
```

### 3. E2E Tests

```typescript
// Playwright/Detox Ñ‚ĞµÑÑ‚Ñ‹
describe('Complete User Journey', () => {
  it('should complete onboarding', () => {});
  it('should register new user', () => {});
  it('should setup health profile', () => {});
  it('should view recommendations', () => {});
  it('should search and view product', () => {});
  it('should track progress', () => {});
});
```

---


## Aggregation System Design

### 1. ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ Ğ°Ğ³Ñ€ĞµĞ³Ğ°Ñ†Ğ¸Ğ¸

```mermaid
graph TB
    subgraph "Aggregation Service"
        Scheduler[Scheduler]
        Fetcher[Data Fetcher]
        Parser[Data Parser]
        Matcher[Product Matcher]
        Updater[Database Updater]
    end
    
    subgraph "Partner APIs"
        XSport[X Sport API]
        NSSport[NSSport API]
        GymBeam[GymBeam API]
        Other[Other Partners]
    end
    
    subgraph "Data Storage"
        Products[(Products DB)]
        Prices[(Price History)]
        Queue[(Job Queue)]
    end
    
    Scheduler --> Queue
    Queue --> Fetcher
    Fetcher --> XSport
    Fetcher --> NSSport
    Fetcher --> GymBeam
    Fetcher --> Other
    Fetcher --> Parser
    Parser --> Matcher
    Matcher --> Products
    Matcher --> Updater
    Updater --> Products
    Updater --> Prices
```

### 2. Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ¿Ğ°Ñ€Ñ‚Ğ½Ñ‘Ñ€ÑĞºĞ¸Ğ¼Ğ¸ Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ°Ğ¼Ğ¸

```typescript
// Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ´Ğ»Ñ Ğ¿Ğ°Ñ€Ñ‚Ğ½Ñ‘Ñ€ÑĞºĞ¾Ğ³Ğ¾ Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ°
interface PartnerIntegration {
  id: string;
  name: string;
  type: 'api' | 'scraper' | 'feed';
  
  // ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
  config: {
    baseUrl: string;
    apiKey?: string;
    rateLimit: number; // Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ² Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñƒ
    updateInterval: number; // Ñ‡Ğ°ÑÑ‹ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸ÑĞ¼Ğ¸
  };
  
  // Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ
  status: 'active' | 'inactive' | 'error';
  lastSync: Date;
  lastError?: string;
}

// Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¾Ñ‚ Ğ¿Ğ°Ñ€Ñ‚Ğ½Ñ‘Ñ€Ğ°
interface PartnerProductData {
  externalId: string;
  name: string;
  brand: string;
  price: number;
  currency: string;
  inStock: boolean;
  url: string;
  imageUrl?: string;
  
  // ĞĞ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
  sku?: string;
  ean?: string;
  description?: string;
  category?: string;
}
```

### 3. ĞŸÑ€Ğ¾Ñ†ĞµÑÑ Ğ°Ğ³Ñ€ĞµĞ³Ğ°Ñ†Ğ¸Ğ¸

```typescript
// Ğ¨Ğ°Ğ³ 1: ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
async function fetchPartnerData(partner: PartnerIntegration): Promise<PartnerProductData[]> {
  switch (partner.type) {
    case 'api':
      return fetchFromApi(partner);
    case 'feed':
      return fetchFromFeed(partner);
    case 'scraper':
      return fetchViaScraper(partner);
  }
}

// Ğ¨Ğ°Ğ³ 2: Ğ¡Ğ¾Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¼Ğ¸ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°Ğ¼Ğ¸
interface ProductMatch {
  partnerProduct: PartnerProductData;
  matchedProduct?: Product;
  matchConfidence: number; // 0-1
  matchMethod: 'sku' | 'ean' | 'name_brand' | 'fuzzy';
}

async function matchProducts(
  partnerProducts: PartnerProductData[]
): Promise<ProductMatch[]> {
  // 1. Ğ¢Ğ¾Ñ‡Ğ½Ğ¾Ğµ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ SKU/EAN
  // 2. Ğ¡Ğ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ + Ğ±Ñ€ĞµĞ½Ğ´Ñƒ
  // 3. Fuzzy matching Ğ´Ğ»Ñ Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ñ…
  // 4. ĞĞ¾Ğ²Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹ â†’ Ñ„Ğ»Ğ°Ğ³ "Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ¼Ğ¾Ğ´ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸"
}

// Ğ¨Ğ°Ğ³ 3: ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
async function updateDatabase(matches: ProductMatch[]): Promise<void> {
  for (const match of matches) {
    if (match.matchedProduct) {
      // ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ñ†ĞµĞ½Ñƒ Ğ¸ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ
      await updateStoreProduct(match);
      // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ñ†ĞµĞ½
      await savePriceHistory(match);
    } else if (match.matchConfidence > 0.8) {
      // Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚ Ñ Ñ„Ğ»Ğ°Ğ³Ğ¾Ğ¼ Ğ¼Ğ¾Ğ´ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
      await createPendingProduct(match);
    }
  }
}
```

### 4. ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ Ğ°Ğ»ĞµÑ€Ñ‚Ñ‹

```typescript
interface AggregationMetrics {
  partnerId: string;
  timestamp: Date;
  
  // ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸
  productsProcessed: number;
  productsMatched: number;
  productsNew: number;
  pricesUpdated: number;
  errors: number;
  
  // Ğ’Ñ€ĞµĞ¼Ñ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ
  durationMs: number;
}

// ĞĞ»ĞµÑ€Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ°
interface AggregationAlert {
  type: 'error' | 'warning' | 'info';
  partnerId: string;
  message: string;
  timestamp: Date;
}

// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ°Ğ»ĞµÑ€Ñ‚Ğ¾Ğ²:
// - ĞŸĞ°Ñ€Ñ‚Ğ½Ñ‘Ñ€ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ğ±Ğ¾Ğ»ĞµĞµ 24 Ñ‡Ğ°ÑĞ¾Ğ²
// - Ğ ĞµĞ·ĞºĞ¾Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ° Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ² (>20%)
// - ĞœĞ½Ğ¾Ğ³Ğ¾ Ğ½ĞµÑĞ¾Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²
// - ĞÑˆĞ¸Ğ±ĞºĞ¸ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
```

---

## Admin Panel Design

### 1. Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ°Ğ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸

```
admin-panel/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ dashboard/        # Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ Ñ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ°Ğ¼Ğ¸
â”‚   â”œâ”€â”€ products/         # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°Ğ¼Ğ¸
â”‚   â”œâ”€â”€ brands/           # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ±Ñ€ĞµĞ½Ğ´Ğ°Ğ¼Ğ¸
â”‚   â”œâ”€â”€ stores/           # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ°Ğ¼Ğ¸
â”‚   â”œâ”€â”€ contraindications/# ĞŸÑ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ñ
â”‚   â”œâ”€â”€ translations/     # ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‹
â”‚   â”œâ”€â”€ users/            # ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸ (read-only)
â”‚   â””â”€â”€ aggregation/      # ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ°Ğ³Ñ€ĞµĞ³Ğ°Ñ†Ğ¸Ğ¸
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ DataTable/        # Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ğ¼Ğ¸ Ğ¸ Ğ¿Ğ°Ğ³Ğ¸Ğ½Ğ°Ñ†Ğ¸ĞµĞ¹
â”‚   â”œâ”€â”€ Forms/            # Ğ¤Ğ¾Ñ€Ğ¼Ñ‹ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
â”‚   â””â”€â”€ Charts/           # Ğ“Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸ Ğ¸ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸
â””â”€â”€ services/
    â””â”€â”€ admin-api.ts      # API Ğ´Ğ»Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞ¸
```

### 2. Dashboard Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸

```typescript
interface DashboardMetrics {
  // ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸
  totalUsers: number;
  activeUsers: number; // Ğ·Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ 30 Ğ´Ğ½ĞµĞ¹
  newUsersToday: number;
  
  // ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹
  totalProducts: number;
  pendingModeration: number;
  
  // ĞœĞ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ñ‹
  activeStores: number;
  lastAggregationTime: Date;
  aggregationErrors: number;
  
  // Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸
  recommendationsGenerated: number;
  averageRecommendationsPerUser: number;
}
```

### 3. Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°Ğ¼Ğ¸

```typescript
// Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ² Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ğ¼Ğ¸
interface ProductListFilters {
  search?: string;
  type?: ProductType[];
  brand?: string[];
  status?: 'active' | 'pending' | 'inactive';
  hasTranslation?: Language[];
}

// Ğ¤Ğ¾Ñ€Ğ¼Ğ° Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°
interface ProductEditForm {
  // ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
  type: ProductType;
  brandId: string;
  
  // ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‹ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ
  translations: {
    [key in Language]?: string;
  };
  
  // Ğ¡Ğ¾ÑÑ‚Ğ°Ğ²
  macros: Macros;
  ingredients: string[];
  
  // ĞŸÑ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ñ
  contraindicationIds: string[];
  
  // Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ
  status: 'active' | 'pending' | 'inactive';
}
```

### 4. Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°Ğ¼Ğ¸

```typescript
// Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°Ğ¼Ğ¸
interface TranslationManager {
  // ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ ĞºĞ»ÑÑ‡Ğ¸ Ğ±ĞµĞ· Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ° Ğ´Ğ»Ñ ÑĞ·Ñ‹ĞºĞ°
  getMissingTranslations(language: Language): TranslationKey[];
  
  // ĞœĞ°ÑÑĞ¾Ğ²Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ¾Ğ²
  bulkUpdateTranslations(translations: Translation[]): Promise<void>;
  
  // Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚/Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‡Ğ¸ĞºĞ¾Ğ²
  exportForTranslation(language: Language): TranslationExport;
  importTranslations(data: TranslationExport): Promise<void>;
}

interface TranslationExport {
  language: Language;
  keys: {
    key: string;
    sourceText: string; // Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹ Ñ‚ĞµĞºÑÑ‚
    currentTranslation?: string;
  }[];
}
```

---

## Localization Strategy

### 1. Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ»Ğ¾ĞºĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

```typescript
// i18n/locales/
// â”œâ”€â”€ sr.json  (ÑĞµÑ€Ğ±ÑĞºĞ¸Ğ¹ - Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹)
// â”œâ”€â”€ hu.json  (Ğ²ĞµĞ½Ğ³ĞµÑ€ÑĞºĞ¸Ğ¹)
// â”œâ”€â”€ ro.json  (Ñ€ÑƒĞ¼Ñ‹Ğ½ÑĞºĞ¸Ğ¹)
// â”œâ”€â”€ en.json  (Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹)
// â”œâ”€â”€ ru.json  (Ñ€ÑƒÑÑĞºĞ¸Ğ¹)
// â””â”€â”€ uk.json  (ÑƒĞºÑ€Ğ°Ğ¸Ğ½ÑĞºĞ¸Ğ¹)

// Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ° Ğ»Ğ¾ĞºĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
interface LocaleFile {
  // ĞĞ±Ñ‰Ğ¸Ğµ
  common: {
    save: string;
    cancel: string;
    next: string;
    back: string;
    loading: string;
    error: string;
    retry: string;
  };
  
  // ĞĞ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³
  onboarding: {
    slide1: { title: string; desc: string };
    slide2: { title: string; desc: string };
    slide3: { title: string; desc: string };
    selectLanguage: string;
  };
  
  // ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
  auth: {
    login: string;
    register: string;
    email: string;
    password: string;
    confirmPassword: string;
    forgotPassword: string;
    // ...
  };
  
  // ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ
  healthProfile: {
    title: string;
    steps: {
      basic: string;
      activity: string;
      goals: string;
      health: string;
      medications: string;
    };
    // ...
  };
  
  // Ğ˜ Ñ‚.Ğ´. Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ¾Ğ²
}
```

### 2. Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚

```typescript
// ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‹ Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ², Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ)
interface DatabaseTranslation {
  key: string;
  language: Language;
  text: string;
}

// Ğ¥ÑƒĞº Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°
function useTranslatedText(key: string): string {
  const { language } = useLanguage();
  const { data } = useQuery(['translation', key, language], () => 
    translationService.getTranslation(key, language)
  );
  return data?.text || key;
}
```

### 3. Ğ¡ĞµÑ€Ğ±ÑĞºĞ°Ñ ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°

```typescript
// ĞĞ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ´ ÑĞµÑ€Ğ±ÑĞºÑƒÑ ĞºÑƒÑ…Ğ½Ñ
interface SerbianCuisineAdapter {
  // ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ğ±Ğ»ÑĞ´Ğ° Ğ´Ğ»Ñ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¹
  popularDishes: {
    id: string;
    nameKey: string;
    macros: Macros;
    category: 'breakfast' | 'lunch' | 'dinner' | 'snack';
  }[];
  
  // Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ±Ñ€ĞµĞ½Ğ´Ñ‹
  localBrands: string[];
  
  // ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ñ‡Ñ‚ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ
  defaultPreferences: {
    meatBased: boolean;
    dairyIncluded: boolean;
    localProductsPreferred: boolean;
  };
}
```

---

## Performance Considerations

### 1. ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸

```typescript
// Lazy loading ÑĞºÑ€Ğ°Ğ½Ğ¾Ğ²
const CatalogScreen = lazy(() => import('./screens/catalog/CatalogScreen'));
const ProgressScreen = lazy(() => import('./screens/progress/ProgressScreen'));

// ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹
interface ImageOptimization {
  // Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ WebP Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚
  format: 'webp';
  
  // Ğ Ğ°Ğ·Ğ¼ĞµÑ€Ñ‹ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²
  sizes: {
    thumbnail: { width: 100, height: 100 };
    card: { width: 200, height: 200 };
    detail: { width: 400, height: 400 };
  };
  
  // Placeholder Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸
  placeholder: 'blur' | 'skeleton';
}
```

### 2. ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

```typescript
// Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
interface CacheStrategy {
  // React Query Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
  queryDefaults: {
    staleTime: 5 * 60 * 1000; // 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚
    cacheTime: 30 * 60 * 1000; // 30 Ğ¼Ğ¸Ğ½ÑƒÑ‚
  };
  
  // ĞŸĞµÑ€ÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ½Ñ‹Ğ¹ ĞºÑÑˆ
  persistedQueries: [
    'healthProfile',
    'recommendations',
    'favorites',
    'progressHistory'
  ];
  
  // Ğ˜Ğ½Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ ĞºÑÑˆĞ°
  invalidationRules: {
    onProfileUpdate: ['recommendations'];
    onProgressAdd: ['progressHistory', 'progressAnalysis'];
  };
}
```

### 3. ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ¿Ğ¸ÑĞºĞ¾Ğ²

```typescript
// Ğ’Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ñ… ÑĞ¿Ğ¸ÑĞºĞ¾Ğ²
import { FlashList } from '@shopify/flash-list';

// Ğ”Ğ»Ñ ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğ° Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²
<FlashList
  data={products}
  renderItem={({ item }) => <ProductCard product={item} />}
  estimatedItemSize={120}
  keyExtractor={(item) => item.id}
/>

// ĞŸĞ°Ğ³Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ
interface PaginatedResponse<T> {
  items: T[];
  total: number;
  page: number;
  pageSize: number;
  hasMore: boolean;
}
```

---

## Security Considerations

### 1. ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ

```typescript
// JWT Ñ‚Ğ¾ĞºĞµĞ½Ñ‹
interface TokenStrategy {
  accessToken: {
    expiresIn: '15m';
    storage: 'memory'; // Ğ½Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ² AsyncStorage
  };
  refreshToken: {
    expiresIn: '7d';
    storage: 'secureStorage'; // Keychain/Keystore
  };
}

// ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‚Ğ¾ĞºĞµĞ½Ğ°
async function refreshAccessToken(): Promise<string> {
  const refreshToken = await SecureStore.getItemAsync('refreshToken');
  const response = await api.post('/auth/refresh', { refreshToken });
  return response.data.accessToken;
}
```

### 2. Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```typescript
// Ğ¨Ğ¸Ñ„Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‡ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
interface DataProtection {
  // Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ ÑˆĞ¸Ñ„Ñ€ÑƒÑÑ‚ÑÑ Ğ¿ĞµÑ€ĞµĞ´ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¾Ğ¹
  encryptHealthData: boolean;
  
  // Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ
  secureStorage: {
    tokens: true;
    healthProfile: true;
    medications: true;
  };
  
  // ĞÑ‡Ğ¸ÑÑ‚ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğµ
  clearOnLogout: [
    'healthProfile',
    'recommendations',
    'progressHistory'
  ];
}
```

### 3. Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ

```typescript
// Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğµ Ğ¸ ÑĞµÑ€Ğ²ĞµÑ€Ğµ
const healthProfileSchema = z.object({
  gender: z.enum(['male', 'female', 'other']),
  age: z.number().min(14).max(120),
  height: z.number().min(100).max(250),
  weight: z.number().min(30).max(300),
  activityLevel: z.enum(['sedentary', 'light', 'moderate', 'high', 'very_high']),
  goal: z.enum(['mass_gain', 'fat_loss', 'maintenance', 'endurance']),
  diseases: z.array(z.string()).optional(),
  medications: z.array(z.string()).optional(),
});
```

---

## Deployment Architecture

### 1. Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

```mermaid
graph TB
    subgraph "Client"
        iOS[iOS App]
        Android[Android App]
    end
    
    subgraph "CDN"
        CloudFront[CloudFront]
    end
    
    subgraph "Load Balancer"
        ALB[Application LB]
    end
    
    subgraph "Application Layer"
        API1[API Server 1]
        API2[API Server 2]
        AI1[AI Service 1]
        AI2[AI Service 2]
    end
    
    subgraph "Data Layer"
        RDS[(PostgreSQL RDS)]
        ElastiCache[(Redis ElastiCache)]
    end
    
    subgraph "Background Jobs"
        Worker[Aggregation Worker]
        Scheduler[Job Scheduler]
    end
    
    iOS --> CloudFront
    Android --> CloudFront
    CloudFront --> ALB
    ALB --> API1
    ALB --> API2
    API1 --> AI1
    API2 --> AI2
    API1 --> RDS
    API2 --> RDS
    API1 --> ElastiCache
    API2 --> ElastiCache
    Worker --> RDS
    Scheduler --> Worker
```

### 2. CI/CD Pipeline

```yaml
# .github/workflows/mobile-deploy.yml
name: Mobile App Deploy

on:
  push:
    branches: [main]
    paths:
      - 'mobile-app/**'

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install dependencies
        run: npm ci
      - name: Run tests
        run: npm test
      - name: Run E2E tests
        run: npm run test:e2e

  build-ios:
    needs: test
    runs-on: macos-latest
    steps:
      - name: Build iOS
        run: eas build --platform ios

  build-android:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - name: Build Android
        run: eas build --platform android

  deploy:
    needs: [build-ios, build-android]
    steps:
      - name: Submit to stores
        run: eas submit
```

---

## Appendix: Screen Wireframes

### A. ĞĞ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³ Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     â”‚    â”‚                     â”‚    â”‚                     â”‚
â”‚   [Illustration]    â”‚    â”‚   [Illustration]    â”‚    â”‚   [Illustration]    â”‚
â”‚                     â”‚    â”‚                     â”‚    â”‚                     â”‚
â”‚  ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ     â”‚    â”‚  Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ       â”‚    â”‚  Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ±Ñ€ĞµĞ½Ğ´Ñ‹   â”‚
â”‚  Ğ¿Ğ¾Ğ´ Ğ²Ğ°ÑˆĞ¸ Ñ†ĞµĞ»Ğ¸      â”‚    â”‚  Ğ¸ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ         â”‚    â”‚  Ğ¸ Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ñ‹         â”‚
â”‚                     â”‚    â”‚                     â”‚    â”‚                     â”‚
â”‚  â—‹ â— â—‹              â”‚    â”‚  â—‹ â—‹ â—              â”‚    â”‚  â—‹ â—‹ â—‹              â”‚
â”‚                     â”‚    â”‚                     â”‚    â”‚                     â”‚
â”‚  [Ğ”Ğ°Ğ»ĞµĞµ]            â”‚    â”‚  [Ğ”Ğ°Ğ»ĞµĞµ]            â”‚    â”‚  [ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### B. Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ½ (Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜°  Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸  âš™ï¸ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚
â”‚ ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, ĞœĞ°Ñ€ĞºĞ¾! ğŸ‘‹   â”‚
â”‚ Ğ’Ğ°Ñˆ Ğ¿Ğ»Ğ°Ğ½ Ğ½Ğ° ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ â”‚
â”‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ¥¤ ĞŸÑ€Ğ¾Ñ‚ĞµĞ¸Ğ½      â”‚ â”‚
â”‚ â”‚ 30Ğ³ ÑƒÑ‚Ñ€Ğ¾Ğ¼       â”‚ â”‚
â”‚ â”‚ [ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ]     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ’Š ĞšÑ€ĞµĞ°Ñ‚Ğ¸Ğ½      â”‚ â”‚
â”‚ â”‚ 5Ğ³ Ğ¿Ğ¾ÑĞ»Ğµ Ñ‚Ñ€ĞµĞ½.  â”‚ â”‚
â”‚ â”‚ [ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ]     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ§ª BCAA         â”‚ â”‚
â”‚ â”‚ 10Ğ³ Ğ´Ğ¾ Ñ‚Ñ€ĞµĞ½.    â”‚ â”‚
â”‚ â”‚ [ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ]     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ   ğŸ“¦  ğŸ“ˆ  ğŸ‘¤     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### C. Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â†  Whey Protein     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚
â”‚   [Product Image]   â”‚
â”‚                     â”‚
â”‚ Optimum Nutrition   â”‚
â”‚ Gold Standard Whey  â”‚
â”‚ â­ 4.8 (234 Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ğ°) â”‚
â”‚                     â”‚
â”‚ âœ… Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ¾Ğ²Ğ°Ğ½Ğ¾    â”‚
â”‚    Ğ´Ğ»Ñ Ğ²Ğ°Ñ          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ğ¡Ğ¾ÑÑ‚Ğ°Ğ² Ğ½Ğ° Ğ¿Ğ¾Ñ€Ñ†Ğ¸Ñ:   â”‚
â”‚ Ğ‘ĞµĞ»Ğ¾Ğº: 24Ğ³          â”‚
â”‚ Ğ£Ğ³Ğ»ĞµĞ²Ğ¾Ğ´Ñ‹: 3Ğ³        â”‚
â”‚ Ğ–Ğ¸Ñ€Ñ‹: 1Ğ³            â”‚
â”‚ ĞšĞ°Ğ»Ğ¾Ñ€Ğ¸Ğ¸: 120        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ğ¦ĞµĞ½Ñ‹ Ğ² Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ°Ñ…:   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ X Sport  3490 RSDâ”‚ â”‚
â”‚ â”‚ Ğ’ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğ¸ [ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ]â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ NSSport  3690 RSDâ”‚ â”‚
â”‚ â”‚ Ğ’ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğ¸ [ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ]â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                     â”‚
â”‚ [â™¡ Ğ’ Ğ¸Ğ·Ğ±Ñ€Ğ°Ğ½Ğ½Ğ¾Ğµ]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
